## ğŸ‘— ZUGZOG ì—¬ì„±ì‡¼ ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ ğŸ‘—
### ğŸ“—Semi Project02(Practice)
> ë°°í¬ì£¼ì†Œ: http://zugzog-env.eba-gsmmen2n.ap-northeast-2.elasticbeanstalk.com/products/

> ì‡¼í•‘ëª° ì°½ì—…ìê°€ ì§ì ‘ ìƒí’ˆì„ ë“±ë¡í•˜ì—¬ íŒë§¤í•  ìˆ˜ ìˆëŠ” ì˜ë¥˜ êµ¬ë§¤/ë¦¬ë·° ì‚¬ì´íŠ¸
### ê°œë°œ ê¸°ê°„: 11/9 ~ 11/22
### ê¸°ìˆ ìŠ¤íƒ 

![https://camo.githubusercontent.com/0bd3e302b95d01634f16c7337e721f82fab79aa760aad4a991118d1291fe7329/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6373732d3135373242363f7374796c653d666f722d7468652d6261646765266c6f676f3d43737333266c6f676f436f6c6f723d7768697465](https://camo.githubusercontent.com/0bd3e302b95d01634f16c7337e721f82fab79aa760aad4a991118d1291fe7329/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6373732d3135373242363f7374796c653d666f722d7468652d6261646765266c6f676f3d43737333266c6f676f436f6c6f723d7768697465)

![https://camo.githubusercontent.com/b310667470594171440f9b80f624787ea58555296d88af177788509b0d73a40b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f73716c6974652d2532333037343035652e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d73716c697465266c6f676f436f6c6f723d7768697465](https://camo.githubusercontent.com/b310667470594171440f9b80f624787ea58555296d88af177788509b0d73a40b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f73716c6974652d2532333037343035652e7376673f7374796c653d666f722d7468652d6261646765266c6f676f3d73716c697465266c6f676f436f6c6f723d7768697465)

![https://camo.githubusercontent.com/e6f0ce6b8ea91992107c852e6b014c1bebfdf8edf67f74e1390394e6d2175b5e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f626f6f7473747261702d3739353242333f7374796c653d666f722d7468652d6261646765266c6f676f3d626f6f747374726170266c6f676f436f6c6f723d7768697465](https://camo.githubusercontent.com/e6f0ce6b8ea91992107c852e6b014c1bebfdf8edf67f74e1390394e6d2175b5e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f626f6f7473747261702d3739353242333f7374796c653d666f722d7468652d6261646765266c6f676f3d626f6f747374726170266c6f676f436f6c6f723d7768697465)

![https://camo.githubusercontent.com/a5e1ddccdf420052ea5f249bf3d43e2dbb1508d4cace7d93936bbb4a7021267d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d3337373641423f7374796c653d666f722d7468652d6261646765266c6f676f3d507974686f6e266c6f676f436f6c6f723d7768697465](https://camo.githubusercontent.com/a5e1ddccdf420052ea5f249bf3d43e2dbb1508d4cace7d93936bbb4a7021267d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f707974686f6e2d3337373641423f7374796c653d666f722d7468652d6261646765266c6f676f3d507974686f6e266c6f676f436f6c6f723d7768697465)


![https://camo.githubusercontent.com/fc9ff8bc1cfcfa39ec16f40144c45020eab49f2acb25e93804a915668d64fdc5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f68746d6c352d4533344632363f7374796c653d666f722d7468652d6261646765266c6f676f3d48746d6c35266c6f676f436f6c6f723d7768697465](https://camo.githubusercontent.com/fc9ff8bc1cfcfa39ec16f40144c45020eab49f2acb25e93804a915668d64fdc5/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f68746d6c352d4533344632363f7374796c653d666f722d7468652d6261646765266c6f676f3d48746d6c35266c6f676f436f6c6f723d7768697465)

![https://camo.githubusercontent.com/32efbd6e3da90d5ed88b31634adb3b068d706e3882900bdbccaae25866e1ef74/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646a616e676f2d3039324532303f7374796c653d666f722d7468652d6261646765266c6f676f3d646a616e676f266c6f676f436f6c6f723d677265656e](https://camo.githubusercontent.com/32efbd6e3da90d5ed88b31634adb3b068d706e3882900bdbccaae25866e1ef74/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646a616e676f2d3039324532303f7374796c653d666f722d7468652d6261646765266c6f676f3d646a616e676f266c6f676f436f6c6f723d677265656e)

![https://camo.githubusercontent.com/d295ea394da88d43d21e31a52fd4b09f37d35cbccfb3500fdf2bf7c530458e3e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f616d617a6f6e6177732d3233324633453f7374796c653d666f722d7468652d6261646765266c6f676f3d616d617a6f6e617773266c6f676f436f6c6f723d79656c6c6f77](https://camo.githubusercontent.com/d295ea394da88d43d21e31a52fd4b09f37d35cbccfb3500fdf2bf7c530458e3e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f616d617a6f6e6177732d3233324633453f7374796c653d666f722d7468652d6261646765266c6f676f3d616d617a6f6e617773266c6f676f436f6c6f723d79656c6c6f77)

![https://camo.githubusercontent.com/a9a95986631c3d4945a63d42d2864e3918a834d672d907e174a29f743a1bc3f1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769742d4630353033323f7374796c653d666f722d7468652d6261646765266c6f676f3d676974266c6f676f436f6c6f723d7768697465](https://camo.githubusercontent.com/a9a95986631c3d4945a63d42d2864e3918a834d672d907e174a29f743a1bc3f1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769742d4630353033323f7374796c653d666f722d7468652d6261646765266c6f676f3d676974266c6f676f436f6c6f723d7768697465)


### ë§¡ì€ ì—­í• 
* ì´ì¢…ì€(BE)
---

## 11.09

`ERD ê·¸ë¦¬ëŠ” ë²•`

* https://app.diagrams.net/ í”„ë¡œê·¸ë¨ ì‚¬ìš©í•˜ì—¬, ëª¨ë¸ ê°„ ê´€ê³„ ì •ì˜
* ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ ë†“ì„ ë•Œ, í™”ì‚´í‘œê°€ ë‚˜ì˜¤ê³  í™”ì‚´í‘œ í´ë¦­ ì‹œ í•„ë“œ ìƒì„±
* ë§ˆìš°ìŠ¤ ì»¤ì„œë¥¼ í•„ë“œ ë°”ê¹¥ìª½ì— ë„£ì„ ë•Œ ë…¹ìƒ‰ ì  ë…¸ì¶œ, ì ì„ ëŒì–´ë‹¹ê²¨ì„œ ë‹¤ë¥¸ ëª¨ë¸ í•„ë“œì˜ ë°”ê¹¥ìª½ ë…¹ìƒ‰ì ì— ì—°ê²°í•˜ë©´ ì •í™•í•˜ê³  ê¹”ë”í•˜ê²Œ ê°€ìš´ë°ë¡œ ì—°ê²° ë¨ 
* ì˜¤ë¥¸ìª½ ì„  ìŠ¤íƒ€ì¼ì—ì„œ êº¾ì´ëŠ” ì„ ì„ ì„ íƒí•´ì•¼ ì„ ì´ êº¾ì—¬ì„œ ë…¸ì¶œ 

`STATICFILES_DIRS`

* ê°œë°œ ë‹¨ê³„ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì •ì  íŒŒì¼ì´ ìœ„ì¹˜í•œ ê²½ë¡œë“¤ì„ ì§€ì •í•˜ëŠ” ì„¤ì • í•­ëª©

`CASCADE`

* ì—°ê²°ëœ ë¶€ë¶„ì„ ì§€ìš°ë©´ ë‹¤ ê°™ì´ ì§€ì›Œì§€ëŠ” ê¸°ëŠ¥

ex ) ê¸€ì„ ì§€ìš°ë©´ ë¦¬ë·°ê¹Œì§€ ë‹¤ ì‚­ì œë˜ê²Œ êµ¬í˜„í•˜ê³  ì‹¶ì„ ë•Œ,

`Nullable Type?`

* Nullì„ ê°€ì§ˆ ìˆ˜ ì—†ëŠ” ë°ì´í„° íƒ€ì…ì„ Nullì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” íƒ€ì…ìœ¼ë¡œ ë§Œë“  ìƒˆë¡œìš´ íƒ€ì…

```python
# url.py
# í˜„ì¬ ê°™ì€ ê²½ë¡œì— ìˆëŠ” viewsíŒŒì¼ ì°¸ì¡°
from . import views
```

```python
# views.py

def index(request):
    return render(request, "products/index.html") # í…œí”Œë¦¿ ë„¤ì„ ì ì–´ì£¼ê³ , ì´ìª½ìœ¼ë¡œ context ê°’ì„ ë„˜ê²¨ì¤Œ
```

### static

`static`

- STATIC_ROOT = os.path.join(BASE_DIR, 'static')
  
  - ë¡œê³ ì™€ ê°™ì´ ê³ ì •ì ìœ¼ë¡œ ì‚½ì…í•˜ëŠ” ì •ì  ì´ë¯¸ì§€

`STATIC_URL = '/static/'`

- ì›¹ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•  ì •ì  íŒŒì¼ì˜ ìµœìƒìœ„ URL ê²½ë¡œ

`STATICFILES_DIRS = [BASE_DIR / 'static']`

- ì´ê³³ì— ì§€ì •í•œ ê²½ë¡œì— ëª¨ë“  íŒŒì¼ì„ ëª¨ì€ë‹¤.

### image

`MEDIA_ROOT = BASE_DIR / 'images'`

- ì—…ë¡œë“œê°€ ëë‚œ íŒŒì¼ì„ ë°°ì¹˜í•  ìµœìƒìœ„ ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ” ì„¤ì • í•­ëª©

`MEDIA_URL = '/media/'`

- ì›¹ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•  ì´ë¯¸ì§€ íŒŒì¼ì˜ ìµœìƒìœ„ URL ê²½ë¡œ

`DEFAULT_AUTO_FIELD ='django.db.models.BigAutoField'`

- 64ë¹„íŠ¸ë³´ë‹¤ ë” í° ì •ìˆ˜ê°’ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ëª¨ë¸ì— ê° ì •ì˜í•´ì£¼ëŠ” ê²ƒë³´ë‹¤ ì—¬ê¸°ì„œ ì „ì—­ì— ì ìš©ë˜ë„ë¡ ê¸°ì¬í•¨ ,Djangoì—ì„œ ìë™ ìƒì„±

`AUTH_USER_MODEL = "accounts.User"`

- Userë¥¼ ë‚˜íƒ€ë‚´ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ì„ accounts ì•±ì˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•œ userëª¨ë¸ì„ì„ ì •ì˜í•´ì¤Œ

## 11.10

## Model

`ManyTomanyField`

- Source Modelì´ Target Modelì—ê²Œ ì–´ë–¤ í–‰ë™ì„ í†µí•´, ìƒˆë¡œìš´ í…Œì´ë¸”ì— ê°’ì„ ì¶”ê°€ í•  ë•Œ 

```py
# Source Model = Patient1, Target Model = Doctor1
# ManyToManyField = doctors (Doctor, related_name = 'patients')

patient1.doctors.all()
# í™˜ì1ì´ ì˜ˆì•½í•œ ì˜ì‚¬ ëª¨ë‘ í™•ì¸


patient1.doctors.add(doctor1)
# í™˜ì1ì´ ì˜ì‚¬1ì—ê²Œ ì˜ˆì•½
```

```python
doctor1 = Doctor.objects.get(pk=1)


# 1ë²ˆ ì˜ì‚¬ ì¡°íšŒí•˜ê¸°

doctor1.patients.all()
# ì˜ì‚¬1ì´ ì˜ˆì•½í•œ í™˜ìëª©ë¡ í™•ì¸
# related_name = patients 
# patients = patient_set
```

```python
# ê¸°ì¡´ Reservation íƒìƒ‰ í›„ ì œê±° ëŒ€ì‹  .remove() ì‚¬ìš©

doctor1.patient_set.remove(patient1)
# ë‹¥í„°1ì´ í™˜ì1 ì˜ˆì•½ì·¨ì†Œ

doctor1.patient_set.all()
# ë‹¥í„°1ì˜ í™˜ì ëª¨ë‘ í™•ì¸
# í™˜ì 2ë²ˆë§Œ ì¡°íšŒëœë‹¤.

patient1.doctors.all()
# í™˜ì1ì´ ì˜ˆì•½í•œ ì˜ì‚¬ ëª¨ë‘ ì¡°íšŒ
# ì˜ì‚¬ 1ì„ ì‚­ì œí•˜ì—¬ ì¡°íšŒë˜ì§€ ì•ŠëŠ”ë‹¤.
```

```python
patient2.doctors.remove(doctor1)
#í™˜ì2ê°€ ë‹¥í„°1ì˜ ì§„ë£Œ ì·¨ì†Œ

patient2.doctor.all() 
# í™˜ì 2ê°€ ì˜ˆì•½í•œ ì˜ì‚¬ ëª¨ë‘ í™•ì¸ (ë‹¥í„°1ì„ ì·¨ì†Œí•˜ì—¬ ì¡°íšŒë˜ì§€ ì•ŠëŠ”ë‹¤.)

doctor1.patient_set.all()
# ë‹¥í„° 1ì´ ì˜ˆì•½í•œ í™˜ì ëª¨ë‘ í™•ì¸( ì¡°íšŒë˜ì§€ ì•ŠëŠ”ë‹¤.)
```

## ì •ë¦¬

- M:N ê´€ê³„ë¡œ ë§ºì–´ì§„ ë‘ í…Œì´ë¸”ì—ëŠ” ë³€í™”ê°€ ì—†ìŒ

- Djangoì˜ ManyToManyFieldëŠ” ì¤‘ê°œ í…Œì´ë¸”ì„ ìë™ìœ¼ë¡œ ìƒì„±

- Djangoì˜ ManyToManyFieldëŠ” M:N ê´€ê³„ë¥¼ ê°€ì§„ ëª¨ë¸ ì–´ë””ì— ìœ„ì¹˜í•´ë„ ìƒê´€ì—†ìŒ
  <<<<<<< HEAD
  
  - ëŒ€ì‹  í•„ë“œ ì‘ì„± ìœ„ì¹˜ì— ë”°ë¼ ì°¸ì¡°ì™€ ì—­ì°¸ì¡° ë°©í–¥ì„ ì£¼ì˜í•  ê²ƒ

- related_name
  
  - target modelì´ source modelì„ ì°¸ì¡°í•  ë•Œ ì‚¬ìš©í•  manager name

- symmetrical
  
  - True : ë‚´ê°€ ë‹¹ì‹ ì˜ ì¹œêµ¬ë¼ë©´ ë‹¹ì‹ ë„ ë‚´ ì¹œêµ¬

=======

- ëŒ€ì‹  í•„ë“œ ì‘ì„± ìœ„ì¹˜ì— ë”°ë¼ ì°¸ì¡°ì™€ ì—­ì°¸ì¡° ë°©í–¥ì„ ì£¼ì˜í•  ê²ƒ

- related_name
  
  - target modelì´ source modelì„ ì°¸ì¡°í•  ë•Œ ì‚¬ìš©í•  manager name

- symmetrical
  
  - True : ë‚´ê°€ ë‹¹ì‹ ì˜ ì¹œêµ¬ë¼ë©´ ë‹¹ì‹ ë„ ë‚´ ì¹œêµ¬

- False : ì¹œêµ¬ ì•„ë‹˜, ì¦‰ ëŒ€ì¹­ì„ ì´ë£¨ì§€ ì•ŠëŠ”ë‹¤.

## ğŸ‘Figmaë¥¼ ì´ìš©í•œ êµ¬ìƒ

>  Figmaë¥¼ ì´ìš©í•˜ì—¬ ì œì‘í•  í™ˆí˜ì´ì§€ì˜ í”„ë¡ íŠ¸ë¥¼ êµ¬ìƒí•˜ì˜€ë‹¤.

- ë””ìì¸ êµ¬ìƒ
  
  - ZIGZAG ë¼ëŠ” ì—¬ì„± ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ë¥¼ ì°¸ê³ í•˜ì˜€ë‹¤.

[![ì§€ê·¸ì¬ê·¸](https://i.esdrop.com/d/f/teJqrUQey5/y8PLFjj2vB.png)](https://zigzag.kr/)

`ZIGZAG ì˜ íŠ¹ì„±`

- ì£¼ë¡œ í•‘í¬ìƒ‰ê³¼ ê²€ì •ìƒ‰ìœ¼ë¡œ ë””ìì¸ë¨

- ì—­ë™ì ì¸ í”„ë¡ íŠ¸ ë””ìì¸

- êµµì§êµµì§í•˜ê³  ê°ê°ì ì¸ í°íŠ¸

`Project ZUGZOG`

>  ì§€ê·¸ì¬ê·¸ë¥¼ ê·¼ê°„ìœ¼ë¡œ í•˜ì—¬ ë””ìì¸ì„ ì‹œë„í•˜ì˜€ë‹¤.

### ì°¸ê³ ! Markdown ì— ì´ë¯¸ì§€ ì‚½ì…í•˜ê¸°

`ì´ë¯¸ì§€ ë§í¬ë¡œ ë³€í™˜í•˜ê¸°`

- ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆì§€ë§Œ, í•„ìì˜ ê²½ìš° Essedropì„ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë§í¬ë¡œ ë³€í™˜í•œë‹¤

[Essedrop](https://essedrop.com/)

- íšŒì›ê°€ì… í›„, ì €ì¥í•œ ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ëŠ” ê²ƒ ë§Œìœ¼ë¡œ ì´ë¯¸ì§€ ë§í¬ ë³€í™˜ì´ ì™„ë£Œëœë‹¤.

`Markdown ì— ì´ë¯¸ì§€ ì˜¬ë¦¬ê¸°`

- ! [ title ] ( ì´ë¯¸ì§€ ë§í¬) ë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ ì´ë¯¸ì§€ë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤.

### Figma

`nav-bar`

![navbar](https://i.esdrop.com/d/f/teJqrUQey5/muOg1gaXQH.png)

`main page`

![](https://i.esdrop.com/d/f/teJqrUQey5/1SsO26Kuzc.png)

`detail page`

![](https://i.esdrop.com/d/f/teJqrUQey5/HWoR7bbEC4.png)

`Form`

- í˜„ì¬ ë¡œê·¸ì¸,ë¦¬ë·°ë“±ë¡,ìˆ˜ì •Form í™œìš© ê³„íš

![](https://i.esdrop.com/d/f/teJqrUQey5/YrY7dHjP9z.png)

`Review`

![](https://i.esdrop.com/d/f/teJqrUQey5/fjt70OqQE5.png)

`Profile`

![p](https://i.esdrop.com/d/f/teJqrUQey5/eLP2Q7vJ8p.png)



 `Like`

![](https://i.esdrop.com/d/f/teJqrUQey5/wPyKAuY9bT.png)

- ì¶”í›„ ë³€ë™ì‚¬í•­ì´ ìˆìœ¼ë©´ ì¶”ê°€í•  ê³„íš

- ë””ìì¸ ê·œê²©ì„ í†µì¼í•˜ì§€ ì•Šì•„ ì¡°ê¸ˆ ì–´ê¸‹ë‚˜ê±°ë‚˜ ë‚œì¡í•œ ë¶€ë¶„ì´ ìˆë‹¤... ìˆ˜ì • ê³„íš

- FIGMAëŠ” ë§¤ìš° ìœ ìš©í•œ íˆ´ì„ì— í‹€ë¦¼ì—†ë‹¤.

- ì´í›„ FIGMA ì‚¬ìš©ì—ì„  Section êµ¬ì—­ ê¸°íšì„ í†µí•œ ì™„ë²½í•œ ëŒ€ì¹­ê³¼ ê°„ê²©ì„ ì‹œë„í•´ ë³¼ ì˜ˆì •

## 11.11

### Keyword

`pip uninstall -r requirements.txt -y`

- íŒ¨í‚¤ì§€ë¡œ ì„¤ì¹˜ ëœ ê²ƒì„ í•œë²ˆì— ì§€ìš°ëŠ” ëª…ë ¹ì–´

`ì˜¤ë¥˜ : cannot assign simplelazyobject`

- ë¡œê·¸ì¸ ìƒíƒœì—ì„œ í•´ì•¼ í•  ì¼ì„ ë¹„ë¡œê·¸ì¸ ìƒíƒœë¡œ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— ìƒê¸°ëŠ” ì˜¤ë¥˜ì´ë‹¤.

- ìš°ë¦¬ê°€ ì“´ request.userëŠ” ë¡œê·¸ì¸ ì „ì—ëŠ” AnonymousUserê°€ ë§¤í•‘ë˜ê³  ë¡œê·¸ì¸ ì´í›„ì— Userê°ì²´ê°€ ë§µí•‘ëœë‹¤.

- ë”°ë¼ì„œ í•˜ê³ ì í•˜ëŠ” ì¼ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— ë¡œê·¸ì¸ì„ í•˜ë©´ ì˜¤ë¥˜ê°€ ì•ˆ ëœ¬ë‹¤.ë¡œê·¸ì¸ì´ í•„ìš”í•˜ë„ë¡ @login_requiredë¥¼ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ê°€ ëœ¨ëŠ” ê²ƒì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

`{% url 'app name:url name' %}`

* ë²„íŠ¼ í´ë¦­í•˜ì—¬ urlë¡œ ì´ë™ ì‹œ,

`BooleanField`

- ì°¸/ê±°ì§“ ëª¨ë¸, False = êµ¬ë§¤ì, True = íŒë§¤ìë¡œ í•˜ì—¬ ì—­í•  ë¶€ì—¬

`{% if request.resolver_match.url_name == 'create' %}`

- resolver_match = ì–´ë–¤ urlì„ í†µí•´ì„œ ì™”ëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤

- ë”°ë¼ì„œ create urlë¡œ ì™”ëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²€ì‚¬

`{{ product.user }} ? {{ product.user.username }}?`

- user í•„ë“œì˜ ëª¨ë¸ì€ userëª¨ë¸ì´ê³ , ê·¸ ëª¨ë¸ì— usernameì´ ìˆì–´ì„œ username ë³´ì—¬ì§

- ë‘˜ ë‹¤ ê°™ì€ ê²°ê³¼

`like_users = models.ManyToManyField(settings.AUTH_USER_MODEL,` 

`related_name = 'like_product')`

- í•œ ìƒí’ˆì€ ì‚¬ìš©ìì—ê²Œ ì¢‹ì•„ìš”ë¥¼ ì—¬ëŸ¬ê°œ ë°›ì„ ìˆ˜ ìˆê³ ,

- í•œ ì‚¬ëŒë„ ì—¬ëŸ¬ ìƒí’ˆì— ì¢‹ì•„ìš”ë¥¼ í•  ìˆ˜ ìˆë‹¤.

### views.py

```python
# accounts/views.py
def signup(request):
    if request.method == 'POST': # ìš”ì²­ ë°›ì•„ì„œ ì œì¶œ ëˆ„ë¥´ë©´
        form = CustomUserCreationForm(request.POST) # ì»¤ìŠ¤í…€ í¼ì— ìš”
#ì²­ ë°›ì€ ê²ƒì´ ë‹´ê¸°ê³  ê·¸ê²ƒì„ í¼ì´ë€ ë³€ìˆ˜ì— ì €ì¥
        if form.is_valid(): # ìœ íš¨í•˜ë‹¤ë©´ 
            form.save() # ì €ì¥í•˜ê³  
            return redirect('products:index') # urlë¡œ ì´ë™
    else:
        form = CustomUserCreationForm() # post ìš”ì²­ì´ ì•„ë‹ˆë©´
                            #(ì œì¶œ ë²„íŠ¼ì„ ì•ˆëˆ„ë¥´ë©´) ë¹ˆ í¼ì„ ë³´ì—¬ì¤Œ

    context = {
        'form': form
    }
    return render(request, 'accounts/signup.html', context) # ìœ íš¨í•˜ì§€ 
# ì•Šì„ ë•Œ(postì¼ë•Œ), ì‚¬ìš©ìì˜ ì¸í’‹ì„ ë‹¤ ë°›ì•„ì„œ, ê²€ì¦ê¹Œì§€ í•´ì„œ 
#ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì €ì¥í•œ product_form(í…œí”Œë¦¿ ë‚´ì—ì„œ ë¶€íŠ¸ìŠ¤íŠ¸ë© í¼ì— ì‚¬ìš©)
    # í•´ë‹¹ í˜ì´ì§€ ì ‘ì†ì¼ (ê¸€ìƒì„± x)ë•ŒëŠ” elseì˜ product_formì´ ë“¤ì–´ê°


def login(request):
    if request.method == 'POST': # ë¡œê·¸ì¸ ë²„íŠ¼ ëˆ„ë¥´ë©´
        form = AuthenticationForm(request, data=request.POST) # requestë¥¼
 # ì²«ë²ˆì§¸ ì¸ìë¡œ ì·¨í•¨, ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•´ "data=" ì„ í†µí•´ íŒë³„, ìœ ì €ê°€ ì¡´ì¬í•˜ëŠ”ì§€ 
# ê²€ì¦í•˜ëŠ” ëª¨ë¸í¼
        if form.is_valid(): # ìœ íš¨í•˜ë©´ 
            auth_login(request, form.get_user()) # auth_login í•¨ìˆ˜ëŠ” 
# ì„¸ì…˜ì— ìœ ì €ë¥¼ ê¸°ë¡í•˜ëŠ” í•¨ìˆ˜, AuthenticationFormì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ, 
# ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µê³¼í–ˆì„ ê²½ìš° ë¡œê·¸ì¸ í•œ ì‚¬ìš©ì ê°ì²´ë¥¼ ë°˜í™˜
            # return redirect(request.GET.get('next') or 'products:index') 
            # http://localhost:8000/accounts/login/?    next = /products/1/update/
            if request.GET.get('next'): # nextë¼ë©´
                return redirect(request.GET.get('next')) # ì›ë˜ next 
                                                        # urlë¡œ ê°€ê³ 
            else: # nextê°€ ì•„ë‹ˆë¼ë©´
                return redirect('products:index') # ì •ìƒ ë¡œê·¸ì¸ì´ë‹ˆê¹Œ ë¡œê·¸ì¸ í›„ indexë¡œ ì´ë™ì„ í•˜ê¸°

    else:
        form = AuthenticationForm(request) # ë¡œê·¸ì¸ ë²„íŠ¼ì„ ëˆ„ë¥´ì§€ ì•Šìœ¼ë©´

    context = {
        'form': form 
    }

    return render(request, 'accounts/login.html', context) # ìœ íš¨ì„± ê²€ì‚¬ì—
# ì‹¤íŒ¨í•˜ê±°ë‚˜, ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ì†ë§Œ í•œ ê²½ìš°, ë‹´ê¸´ ê°’ì„ ê°€ì§€ê³  
# ë‹¤ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™


@login_required
def logout(request):
    auth_logout(request) # ìš”ì²­ ìœ ì €ì— ëŒ€í•œ ì„¸ì…˜ ì •ë³´ë¥¼ ì‚­ì œí•¨, 
                        # HttpRequest ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ê³  ë°˜í™˜ ê°’ì´ ì—†ìŒ
    return redirect('products:index')
```

```python
# products.py

def index(request):

    products = Product.objects.all() # Product ëª¨ë¸ì˜ ê°ì²´ë¥¼ ë‹¤ ê°€ì ¸ì˜´ 
    context = {
        'products':products,
    }
    return render(request, "products/index.html", context) # í…œí”Œë¦¿ ë„¤ì„ 
                                # ì ì–´ì£¼ê³ , ì´ìª½ìœ¼ë¡œ context ê°’ì„ ë„˜ê²¨ì¤Œ


def create(request):
    if request.method == "POST":
        product_form = ProductForm(request.POST, request.FILES) # ì‚¬ìš©ìê°€
                # ìš”ì²­í•˜ì—¬ Productformì— ë‹´ê¸´ í¬ìŠ¤íŠ¸ë¥¼ productform ë³€ìˆ˜ì— ì €ì¥

        if product_form.is_valid():
            product = product_form.save(commit=False) # ì €ì¥í•˜ê¸° ì „ì— ì ê¹ 
                                            # ë©ˆì¶”ê¸° ìœ„í•´ commit=falseì‚¬ìš©
            product.user = request.user # product.userì™€ ìš”ì²­í•œ 
                                        # userê°€ ê°™ë‹¤ë¥¼ ì •ì˜ 
            product.save() # ìœ„ì— ìš”ì²­ ë°›ì€ í¼ì„ ì €ì¥, 
          # ê°’ì„ ë§Œë“¤ê³  ì €ì¥í•˜ëŠ” ìš©ë„ê³  ê°’ì„ ë³´ë‚´ì¤„ ê²ƒì´ ì—†ìœ¼ë‹ˆê¹Œ redirectë¥¼ ì‚¬ìš©
            return redirect('products:index') # urlë¡œ ì´ë™ì‹œì¼œì¤„ ë¿
                    # (app name:url name) ê¸€ì‘ì„± í›„ ì œì¶œí•˜ë©´ indexë¡œ ì´ë™
    else: 
        product_form = ProductForm() # post ìš”ì²­ì´ ì•„ë‹ˆë©´
                                     # (ì œì¶œ ë²„íŠ¼ì„ ì•ˆëˆ„ë¥´ë©´) ë¹ˆ í¼ì„ ë³´ì—¬ì¤Œ

    context = {
        "product_form": product_form # ìœ íš¨í•˜ì§€ ì•Šì„ ë•Œ, 
# ì‚¬ìš©ìì˜ ì¸í’‹ì„ ë‹¤ ë°›ì•„ì„œ, ê²€ì¦ê¹Œì§€ í•´ì„œ ì—ëŸ¬ë©”ì‹œì§€ë¥¼ ì €ì¥í•œ 
#product_form(í…œí”Œë¦¿ ë‚´ì—ì„œ ë¶€íŠ¸ìŠ¤íŠ¸ë© í¼ì— ì‚¬ìš©)
        # postì¼ ë•ŒëŠ” postì˜ product_formì´ ì—¬ê¸°ì— í•´ë‹¹ ë˜ê³ , 
# í•´ë‹¹ í˜ì´ì§€ ì ‘ì†ì¼ (ê¸€ìƒì„± x)ë•ŒëŠ” elseì˜ product_formì´ ë“¤ì–´ê°
    }

    return render(request, "products/form.html", context) # ì œì¶œì— 
                                # ì´ìŠˆê°€ ìˆë‹¤ë©´ ê°’ì„ ë³´ë‚´ë©° ë‹¤ì‹œ í¼ìœ¼ë¡œ ëŒì•„ê°€ê¸°


def detail(request, product_pk): # ìš”ì²­ ë°›ì€ ê²ƒì— product_pkê°€ í¬í•¨ë¨
    product = Product.objects.get(id=product_pk) # idê°€ ìš”ì²­ë°›ì€ product_pkê°€ ê°™ì€ ê²ƒì„ ê°€ì ¸ì˜´

    context = {
        "product":product 
    }

    return render(request, "products/detail.html", context) # ìš”ì²­ ë°›ì€ 
                                      # ê²ƒì„ ê°€ì§€ê³ , detail í˜ì´ì§€ì— ê°’ì„ ì „ë‹¬


def update(request, product_pk): # urlì— product_pk ë°›ì•„ì•¼í•˜ë¯€ë¡œ ìš”ì²­ ë°›ì€ ê²ƒì— product_pk ê°€í¬í•¨ë¨
    product = Product.objects.get(id=product_pk) # idê°€ ìš”ì²­ë°›ì€ product_pkê°€ ê°™ì€ ê²ƒì„ ê°€ì ¸ì˜´

    if request.method == "POST": # ì—…ë°ì´íŠ¸ ì œì¶œ ë²„íŠ¼ ëˆŒë €ì„ ë•Œ
        product_form = ProductForm(request.POST, request.FILES, instance=product) # ìš”ì²­ëœ í¬ìŠ¤íŠ¸ì™€ ìš”ì²­ ëœ íŒŒì¼, ê¸°ì¡´ì— ëª¨ë¸ì— ìˆëŠ” ê²ƒì„ ë„£ì–´ ë†“ì€ ê²ƒì„ ìš”ì²­ ëœ ê²ƒìœ¼ë¡œ ë°”ê¿ˆ

        if product_form.is_valid(): # ìœ„ í¼ì´ ìœ íš¨í•˜ë‹¤ë©´
            product_form.save() # ì €ì¥

            return redirect("products:detail", product_pk) # ëª‡ë²ˆ ìƒí’ˆì˜ 
                                                # ë””í…Œì¼ í˜ì´ì§€ì— ë³´ë‚´ì¤„ê»€ì§€? 
    else:
        product_form = ProductForm(instance=product) # ê¸°ì¡´ ëª¨ë¸ì— ì €ì¥ 
                                                    # ë˜ì–´ìˆëŠ” ê°’ì„ ë³´ì—¬ì¤Œ

    context = {
        "product_form": product_form # ìœ íš¨í•˜ì§€ ì•Šì„ ë•ŒëŠ” ìš”ì²­ ë°›ì€ 
                               # product_form, ì œì¶œ ì•ˆëˆŒë €ì„ ë•ŒëŠ” ë°”ë¡œìœ„ì˜ í¼
    }

    return render(request, "products/forms.html", context) # ìœ íš¨í•˜ì§€ 
   # ì•Šì„ ë•Œë‚˜, ì œì¶œ ì•ˆëˆŒë €ì„ ë•ŒëŠ” ìœ„ì˜ ì»¨í…ìŠ¤íŠ¸ ê°’ì„ ê°€ì ¸ì™€ì„œ forms.htmlì„ ë³´ì—¬ì¤Œ
```

## 11.13

### Keyword

`return ê³¼ redirect êµ¬ë¶„`

- render ëŠ” í…œí”Œë¦¿ì„ ë¶ˆëŸ¬ì˜¤ê³ 

- redirect ëŠ” URLë¡œ ì´ë™

- URL ë¡œ ì´ë™í•œë‹¤ëŠ” ê±´ ê·¸ URL ì— ë§ëŠ” views ê°€ ë‹¤ì‹œ ì‹¤í–‰ë í…Œê³  ì—¬ê¸°ì„œ render ë¥¼ í• ì§€ ë‹¤ì‹œ redirect í• ì§€ ê²°ì •

`@login_required`

- @ì•ˆí•˜ë©´ ì ‘ì†ì´ ê°€ëŠ¥í•˜ê²Œ ë¨, ê·¸ëŸ¬ë¯€ë¡œ @ë¡œ ë¡œê·¸ì¸í™”ë©´ì´ ë³´ì—¬ì§€ë„ë¡ í•´ì•¼í•¨

`{% if request.user.is_authenticated %}`

- request.userëŠ” ë’¤ì—ë‚˜ì˜¤ëŠ” ê²ƒì„ ìš”ì²­í•˜ëŠ” ì‚¬ëŒ

`request.user.id`

- íŒë§¤ìê°€ ë˜ë ¤ëŠ” ì‹ë³„í•  ìˆ˜ ìˆëŠ” ë²ˆí˜¸ idê°€ ìˆì–´ì•¼ ë˜ê¸° ë•Œë¬¸ì— pk ê°’ì„ ë¶ˆëŸ¬ ì™€ ì¤€ë‹¤

`ì—­ì°¸ì¡°ì—ì„œ...`

- _set ì€ related_name ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•˜ë‹¤

- setì€ 1: N ê´€ê³„ì—ì„œ , related_nameì€ N:M ê´€ê³„ì—ì„œ ì£¼ë¡œ ì“°ì¸ë‹¤.

- source Model, Target Model ì„ ì˜ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•˜ì—¬ì•¼ í•œë‹¤

```python
# doctor1ì´ patient2ì„ ì˜ˆì•½
doctor1.patient_set.add(patient2)
# doctor1ì´ patient2ì„ ì˜ˆì•½(ì—­ì°¸ì¡°)
# related_name = patients 
# patients = patient_set â­ï¸
```

```python
# products/views.py

jjim = get_user_model().objects.get(id=user_pk).jjim_product.all()

# related_name = jjim_product ë¼ê³  ëª¨ë¸ì—ì„œ ì´ë¯¸ ì •ì˜
# abstractuserì—ì„œ ì§€ì •í•œ Userê°’ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ get_user_model() ì‚¬ìš©
```

### views.py

```python
# accounts.py
@login_required
def register_seller(request, user_pk): # ëª‡ë²ˆ ì‚¬ìš©ìê°€ trueê°€ ë ê²ƒì¸ì§€ ì•Œì•„ì•¼ í•˜ë‹ˆê¹Œ user_pkê°’ì„ ë„£ì–´ì¤Œ
    user = get_user_model().objects.get(id=user_pk) # idê°€ ìš”ì²­ ë°›ì€ user_pkì¸ ê²ƒì„ ê°€ì ¸ì˜´
    user.is_seller = True       # seller = True, customer = False
    user.save()                 

    return redirect('products:index')   
```

```python
# products.py


def add_jjim(request, product_pk): # product_pkê°’ì„ ë¶ˆëŸ¬ì™€ì•¼ ë˜ëŠ” ì´ìœ ëŠ” í•´ë‹¹ ìƒí’ˆì„ ì¥ë°”êµ¬ë‹ˆì— ë„£ëŠ” ê²ƒì´ë‹ˆê¹Œ 
    product = Product.objects.get(id=product_pk) # íŠ¹ì • ìƒí’ˆ ê°€ì ¸ì˜¤ê³ 

    if request.user in product.jjim.all(): # ìƒí’ˆì— ì°œì´ ë˜ì–´ìˆëŠ” ëª¨ë“  ê²ƒ ì¤‘ ìš”ì²­ìœ ì €ê°€ ìˆë‹¤ë©´
        product.jjim.remove(request.user) # ìƒí’ˆì´ ìš”ì²­ìœ ì €ì˜ ì°œì„ ì§€ì›€
    else: # ëˆ„ë¥¸ì ì´ ì—†ëŠ” ê²½ìš°, 
        product.jjim.add(request.user) # ìƒí’ˆì´ ìš”ì²­ìœ ì €ì—ê²Œ ì°œì„ ë°›ëŠ”ë‹¤. 

    return redirect('products:detail', product_pk) # detailë¡œ ë³´ë‚¼ ë•ŒëŠ” ìƒí’ˆì— ëŒ€í•œ 
                                        # pkê°€ í•„ìš”í•˜ë‹ˆê¹Œ product_pkë¥¼ ì¨ì¤Œ


def show_jjim(request, user_pk):
    jjim = get_user_model().objects.get(id=user_pk)# íŠ¹ì • ìœ ì € ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ê³  
    jjim1 = jjim.jjim_product.all() # ëª¨ë¸.related_name.method()
    # íŠ¹ì • ìœ ì €ê°€(user_pk)ê°€ ì°œí•œ ìƒí’ˆ ëª©ë¡ ëª¨ë‘ í™•ì¸
    context = {
        'jjim': jjim1
    }

    return render(request, 'products/jjim.html', context) # ê°’ì„ ë˜ì ¸ì¤€ htmlì„ ë³´ì—¬ì¤Œ
```

## 11.14

### Q. review index templateì˜ ì‘ì„±í•˜ê¸° ë²„íŠ¼ì—ì„œ ì‚¬ìš©í•˜ëŠ” product_pkì™€ product.pk ì°¨ì´ëŠ”?

> ë²„íŠ¼ìœ¼ë¡œ ì´ë™í•  ë•ŒëŠ” create urlì—ì„œ ë°›ì€ pkì¸ìë¥¼ ì˜†ì— ì¨ì¤˜ì•¼ í•˜ëŠ”ë°, ì¨ì£¼ê¸° ìœ„í•´ì„œëŠ” index templateì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ viewì˜ indexí•¨ìˆ˜ì—ì„œ contextë¡œ ë„˜ê²¨ì¤˜ì•¼í•œë‹¤. 
> ì—¬ê¸°ì„œ indexí•¨ìˆ˜ ì¸ìë¡œ ë“¤ì–´ì˜¨ product_pkë¥¼ contextë¡œ ë„£ì–´ ë°”ë¡œ ë„˜ê²¨ì£¼ëŠ”ì§€ ë˜ëŠ” productë¡œ ì •ì˜í•´ì¤€ ë°ì´í„°ë¥¼ contextë¡œ ë„£ì–´ì£¼ëŠ”ì§€ì˜ ì°¨ì´ë‹¤. 
> í›„ìì˜ ê²½ìš°, ê°ì²´(ë°ì´í„°)ë¥¼ ë„˜ê²¨ì£¼ëŠ” ê²ƒì´ë©°, templateì—ì„œëŠ” productì˜ pkê°’ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— product.pkë¡œ ë²„íŠ¼ì˜ urlì— ê¸°ì¬í•´ì¤€ë‹¤. 

### Q. reviewì•± view.pyì—ì„œ createí•¨ìˆ˜ ë‚´ ì•„ë˜ ì½”ë“œì˜ ì˜ë¯¸ëŠ”?

    ```python
                if request.user not in product.review.all(): # íŠ¹ì •ìƒí’ˆì— ì‘ì„± ëœ ë¦¬ë·° ëª¨ë‘ í™•ì¸
                review.save()
                product.review.add(review)
            # else:
                # ì‹¤íŒ¨ alert ê°€ ëœ¨ê²Œ ë§Œë“¤ì–´ì•¼í•¨.
    ```

> ë¦¬ë·°ì™€ ìƒí’ˆì€ M:N ê´€ê³„ë¡œì¨, í•œ ìƒí’ˆì€ ì—¬ëŸ¬ ë¦¬ë·°ê°€ ìˆì„ ìˆ˜ ìˆê³ , í•œ ë¦¬ë·°ëŠ” ì—¬ëŸ¬ ìƒí’ˆì— ìˆì„ ìˆ˜ ìˆë‹¤.
> ë‹¤ë§Œ ë¦¬ë·° ì‘ì„±(create)ê²½ìš°, íŠ¹ì • ë¦¬ë·°ê°€ ì“°ì—¬ì§„ ìƒí’ˆì´ ì—¬ëŸ¬ê°œ ì¡´ì¬í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë©° ê¸°ëŠ¥ êµ¬í˜„ë„ ì•ˆë˜ì–´ìˆìŒ, ì¦‰ ì‹¤ì œë¡œëŠ” 1:N ê¸°ëŠ¥
> ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë³„ë„ ì œì•½ ì¡°ê±´ì„ ì½”ë“œë¡œ êµ¬í˜„í•˜ì§€ ì•Šì•„ë„ ë˜ì–´ ìœ„ ì½”ë“œë¥¼ ì œê±°í•´ë„ ë˜ì§€ë§Œ í•´ë‹¹ ê¸°ëŠ¥ì´ êµ¬í˜„ì´ ë˜ì—ˆë‹¤ëŠ” ê°€ì •í•˜ì— ê·¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ë„ë¡ ì œí•œì„ í•˜ê³  ì•ŒëŸ¿ì„ ëœ¨ê²Œ í•˜ê¸° ìœ„í•´ ìœ„ ì½”ë“œë¥¼ ê¸°ì¬í•¨
> ê·¸ëŸ¬ë¯€ë¡œ ìœ„ ì½”ë“œì˜ ì˜ë¯¸ëŠ” <<íŠ¹ì •ìƒí’ˆì— ì“°ì¸ ì „ì²´ ë¦¬ë·° ì¤‘ ìš”ì²­ìê°€ ì¡´ì¬í•˜ì§€ ì•Šì„ë•Œ ì €ì¥í•¨ì„ ì˜ë¯¸>> ì¦‰, ì¤‘ë³µ ê¸ˆì§€  
> íŠ¹ì • ë¦¬ë·°ê°€ ì—¬ëŸ¬ ìƒí’ˆì— ì¡´ì¬í•˜ëŠ” ê¸°ëŠ¥ì´ êµ¬í˜„ì´ ë˜ì—ˆë”ë¼ë©´ íŠ¹ì •ìƒí’ˆì˜ ë¦¬ë·°ë“¤ì€ ì‘ì„±ì ì¤‘ë³µì´ ì—†ì–´ì•¼í•¨â­ï¸ => ìš”ì²­ìê°€ í•œëª…ì¸ íŠ¹ì •ë¦¬ë·°ê°€ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë‹ˆê¹Œ! 
> íŠ¹ì •ìƒí’ˆì˜ ë¦¬ë·°ë“¤ ì¤‘ ì‘ì„±ìê°€ ì¤‘ë³µì´ ëœë‹¤ë©´ ì•ŒëŸ¿ì´ ëœ¬ë‹¤ëŠ” ì½”ë“œ 

### Q. reviewì•± view.pyì—ì„œ updateí•¨ìˆ˜ ë‚´ ì•„ë˜ ì½”ë“œì˜ ì˜ë¯¸ëŠ”?

`product_pk = review.review_product.get().id`

* ë¦¬ë·° ëª¨ë¸ì—ì„œ ìƒí’ˆ ëª¨ë¸ì„ ì—­ì°¸ì¡°í•˜ë©°, íŠ¹ì •ë¦¬ë·°ê°€ ì‘ì„± ëœ ìƒí’ˆ í•œê°œì˜ idë¥¼ ê°€ì ¸ì˜¨ë‹¤. 
* ê´„í˜¸ ê²½ìš° íŠ¹ì •í•œ ì¡°ê±´ì„ ë„£ì„ ë•Œë„ ìˆì§€ë§Œ íŠ¹ì •í•œ ì¡°ê±´ì„ ë„£ì§€ ì•Šì„ë•Œ, ë„£ì„ ìˆ˜ ì—†ì„ë•Œ ë¹ˆê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ë©° ê·¸ ê²½ìš°ì—ë„ `.id` ë¶™ì¸ë‹¤ë©´ idë¥¼ ê°€ì ¸ì˜¬ìˆ˜ ìˆë‹¤. 
* .get().id => id ê°€ì ¸ì˜´
* .get(id=2).name => 2ë²ˆì˜ ì´ë¦„ ê°€ì ¸ì˜´
* redirectí•˜ëŠ” ê²½ìš°, í•´ë‹¹ urlì— pkê°’ì´ ìˆë‹¤ë©´ return redirect ì•ˆì— urlê³¼ í•´ë‹¹í•˜ëŠ” pkê°’ì„ ê°™ì´ ì ì–´ì¤˜ì•¼ ë¨

## 11.15

### front_end

* ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ë¡œ ì»¬ëŸ¬ê°€ ì…í˜€ì¡Œë‹¤ë©´, ê°™ì€ íƒœê·¸ ì•ˆì— styleë¡œ ì»¬ëŸ¬ë¥¼ ì…íˆë ¤í•´ë„ ì…í˜€ì§€ì§€ ì•ŠìŒ => ë¶€íŠ¸ìŠ¤íŠ¸ë© í´ë˜ìŠ¤ì˜ ì»¬ëŸ¬ë¥¼ ë¹¼ì•¼í•¨

* í°íŠ¸ ë„£ëŠ” ë°©ë²•: 
1. https://fonts.google.com/ ì ‘ì†

2. korean ìœ¼ë¡œ language ì„ íƒ 

3. font ì„ íƒ í›„ í•˜ë‹¨ + ì„ íƒ

4. link 3ê°œ head íƒœê·¸ì•ˆì— ë„£ê³  styleíƒœê·¸ ì•ˆì— CSS rules to specify families ë¥¼ íƒœê·¸ ë˜ëŠ” í´ë˜ìŠ¤ ëª…ì„ ë§Œë“¤ì–´ì„œ ë„£ìŒ
* imagekit
  * <img> íƒœê·¸ì—ì„œ ì§ì ‘ ì‚¬ì´ì¦ˆë¥¼ ì¡°ì •í•  ìˆ˜ë„ ìˆì§€ë§Œ (width ì™€ height), ì—…ë¡œë“œ ë  ë•Œ ì´ë¯¸ì§€ ìì²´ë¥¼ resizing í•˜ëŠ” ê²ƒì„ ì‚¬ìš©í•´ ë³¼ ê²ƒ
  * ProcessedImageField í•„ë“œì—ì„œ thumnailì„ ì“¸ ë•ŒëŠ” processorsì˜ thumnailì„ ì“°ê³ , imageë¥¼ ì“¸ ë•ŒëŠ” resizetofillì„ ì”€
    * thumnailì™€ thumnailì€ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ìë¥¼ì§€ì— ëŒ€í•œ êµ¬ë¶„
    * resizetofill:  ì¤‘ì•™ê¸°ì¤€ìœ¼ë¡œ ìë¥¸ë‹¤. ê·¸ëƒ¥ í¬ê¸°ì— ë§ê²Œ ìë¥¸ë‹¤ê³  ë³´ë©´ëœë‹¤
    * thumnail: ë‚´ë¶€ì ê¸°ì¤€ìœ¼ë¡œ ìë™ìœ¼ë¡œ ê¹”ë”í•˜ê²Œ ì˜ë¼ì¤€ë‹¤. 
  * ProcessedImageField: ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ì¬ê°€ê³µí•˜ì—¬ ì €ì¥

### 1:N ê´€ê³„

* N: Comment, ì™¸ë˜í‚¤ í•„ë“œ: article, ì™¸ë˜í‚¤ ëª¨ë¸: Article
1. ëŒ“ê¸€ ìƒì„±(N) `comment = Comment()`

2. ê²Œì‹œê¸€ ìƒì„±(1) `article = Article.objects.create(title='title', content='content')`

3. ì™¸ë˜ í‚¤ ë°ì´í„° ì…ë ¥ `comment.article = article`

4. ëŒ“ê¸€ ì €ì¥ `comment.save()`
* 1ë²ˆ ëŒ“ê¸€ì´ ì‘ì„±ëœ ê²Œì‹œë¬¼ì˜ pk ì¡°íšŒ
  `comment.article.pk`

* 1ë²ˆ ëŒ“ê¸€ì´ ì‘ì„±ëœ ê²Œì‹œë¬¼ì˜ content ì¡°íšŒ
  `comment.article.content`

### ì—­ì°¸ì¡°ë€?

* 1:N ê´€ê³„ì—ì„œëŠ” 1ì´ Nì„ ì°¸ì¡°í•˜ëŠ” ìƒí™©
  
  * ì™¸ë˜ í‚¤ë¥¼ ê°€ì§€ì§€ ì•Šì€ 1ì´ ì™¸ë˜ í‚¤ë¥¼ ê°€ì§„ Nì„ ì°¸ì¡°

* `article.comment_set.all()` : 1ë²ˆ ê²Œì‹œê¸€ì— ì‘ì„±ëœ ëª¨ë“  ëŒ“ê¸€ ì¡°íšŒí•˜ê¸° (ì—­ì°¸ì¡°)
* Related managerëŠ” 1:N í˜¹ì€ M:N ê´€ê³„ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë¬¸ë§¥(context)
    * `ìœ„ì™€ ê°™ì´ ë³€ê²½ í•˜ë©´ ê¸°ì¡´ article.comment_setì€ ë” ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , article.commentsë¡œ ëŒ€ì²´ë¨`
  
  * `1ë²ˆ ê²Œì‹œê¸€ì— ì‘ì„±ëœ ëª¨ë“  ëŒ“ê¸€ ì¶œë ¥í•˜ê¸°`
    
    ```python
    comments = article.comment_set.all()
    for comment in comments:
    print(comment.content)
    ```

### í”„ë¡œí•„ ì‚¬ì§„ ê¸°ëŠ¥

1. accounts > urls.py ë‚´ í”„ë¡œí•„ ì‚¬ì§„ì„ ë³´ì—¬ì¤„ Urlì§€ì •
   `path('profile/', views.profile, name='profile'),`
2. í•´ë‹¹ urlì˜ views > profileí•¨ìˆ˜ì—ì„œ profileì„ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ê°ì²´ ìƒì„± ë° í•´ë‹¹ ê°ì²´ contextë¡œ ë„£ì–´ì¤Œ
3. ë³´ì—¬ì¤„ í…œí”Œë¦¿ ì§€ì • => `accounts/profile.html`

## 11.16

`like í•¨ìˆ˜ì˜ ì§„í–‰ ë©”ì»¤ë‹ˆì¦˜`

1. detail pageì—ì„œ ì¢‹ì•„ìš”ë¥¼ ëˆ„ë¥¸ë‹¤
2. urlì—ì„œ ì •ì˜í•œ ê²½ë¡œìƒì—ì„œ viewsì—ì„œ ì •ì˜í•œ í•¨ìˆ˜ ì‘ë™
3. return redirectë¡œ detail page ì´ë™

`ì¢‹ì•„ìš” ì•„ì´ì½˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, like urlë¡œ ì´ë™ë˜ê³ , like urlì˜ view í•¨ìˆ˜ê°€ ì‹¤í–‰ ë˜ë©´ì„œ í•´ë‹¹ viewí•¨ìˆ˜ì˜ redirect pageì¸ detail pageë¡œ ì´ë™`

### CSS íŒŒì¼ ë³„ë„ ê´€ë¦¬ ë°©ë²•

* í•´ë‹¹ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ settings.py ì— `STATICFILES_DIRS = [BASE_DIR / 'static'] # ì´ê³³ì— ì§€ì •í•œ ê²½ë¡œì— ëª¨ë“  íŒŒì¼ì„ ëª¨ì€ë‹¤.` ë¥¼ ê¸°ì¬í•´ì¤˜ì•¼í•¨
1. í”„ë¡œì íŠ¸ ìµœìƒë‹¨(manage.py ì™€ ê°™ì€ ê²½ë¡œ)ì— static í´ë” ìƒì„± 
2. static í´ë” ë‚´ css í´ë” ìƒì„±
3. css í´ë” ë‚´ style.css íŒŒì¼ ìƒì„± 
4. base.htmlì— `<link rel="stylesheet" href="/static/css/style.css">` ê¸°ì¬



## Product main page êµ¬í˜„

![](https://i.esdrop.com/d/f/teJqrUQey5/2eCJwI6oIQ.gif)

- `main page`ì— ì…ë ¥í•œ ìƒí’ˆì˜ ì´ë¯¸ì§€ë¥¼ ì¼ë ¬ë¡œ 3ê°œì”©, ì²´ìŠ¤íŒê°™ì´ ì¶œë ¥í•˜ê¸°ë¥¼ ì›í–ˆë‹¤.

- í•˜ì§€ë§Œ `ê°ì„±`ì„ ìœ„í•´ ì¤‘ê°„ì— í…ìŠ¤íŠ¸ë¥¼ ì‚½ì…í•˜ê³  ì‹¶ì–´ì§,

- ì²˜ìŒì—ëŠ”  `div` ê°€ìš´ë° í…ìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ ì‚½ì…í•´ ë†“ê³   forë¬¸ì„ ëŒë ¤ ë¹„ì–´ìˆëŠ” colì— ìì—°ìŠ¤ëŸ½ê²Œ ì´ë¯¸ì§€ê°€ ì‚½ì…ë˜ëŠ” ë°©ë²•ì„ êµ¬ìƒí–ˆë‹¤.

- í•˜ì§€ë§Œ `div` ì–‘ ë ê³µê°„ì„ ë¹„ìš°ë©´ì„œ ê°€ìš´ë° ì •ë ¬ì— ì‹¤íŒ¨í•˜ì—¬ col ë§ˆë‹¤  for ë¬¸ì„ ë„£ì–´ íŠ¹ì • `ID` ê°’ì„ ì¶œë ¥í•˜ëŠ” ë‹¤ì†Œ ë¬´ì‹..í•œ ë°©ì‹ì„ ì‚¬ìš©í–ˆë‹¤.

- 3í–‰ ë¶€í„°ëŠ” í…ìŠ¤íŠ¸ ì—†ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì¶œë ¥
  
  

## 11.17

### Grid

`í•œì¤„ì— ë‘ê°œì”© ë†“ì„ ë•Œ`

```html
<div class="container text-center">
  <div class="row row-cols-2">
    <div class="col">Column</div>
    <div class="col">Column</div>
    <div class="col">Column</div>
    <div class="col">Column</div>
  </div>
</div>
```

`colëŠ” ì´ë¯¸ì§€ ë°•ìŠ¤ í•˜ë‚˜ì´ë©°, forë¬¸ì´ ì´ë¯¸ì§€ ë°•ìŠ¤ ë‹¹ í•˜ë‚˜ì”© ë‚˜ì˜¤ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— colìœ„ì— ì¨ì•¼í•¨`

```html
<div class="row row-cols-3 g-4">
    {% for product in jjim %}
        <div class="col">
            <div>
               <a href="{% url 'products:detail' product.pk %}">
                <img src="{{ product.image.url }}" alt="123" style="width: 400px; height: 300px; border-radius: 50px">
               </a>
                <div class="text-center">
                    <a href="{% url 'products:delete_jjim' product.pk %}" class="btn detail_btn mt-3" style="width: 50%;">ì‚­ì œ</a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
```

### forms.py widget ì‚¬ìš©ë²•

```python
class ReviewForm(forms.ModelForm):
    star_list = [
        ('â­', 'â­'),
        ('â­â­', 'â­â­'),
        ('â­â­â­', 'â­â­â­'),
        ('â­â­â­â­', 'â­â­â­â­'),
        ('â­â­â­â­â­', 'â­â­â­â­â­'), 
    ]
    star = forms.ChoiceField(choices=star_list, 
            widget=forms.RadioSelect( # radioselect ì‚¬ìš© ì‹œ, choicesì— ìˆëŠ” star_listë¥¼ ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ì„ íƒ í•  ìˆ˜ ìˆë„ë¡ ì§€ì •í•´ì¤Œ => RadioselectëŒ€ì‹  selectë¥¼ ì“¸ ê²½ìš°, ë“œë¡­ë°•ìŠ¤ë¡œ ë³„ ì„ íƒ ê°€ëŠ¥
            attrs={
                'placeholder': 'Enter the star',
                'style': 'background-color: black; color: white; border-color: #FA6EE3;',
                } # widetë‚´ attrsë‚´ styleì„ ì£¼ë©´ í•„ë“œ ë³„ ìŠ¤íƒ€ì¼ ì¤„ ìˆ˜ ìˆìŒ
            ),
        )
```

```python
class ProductForm(forms.ModelForm):
    content = forms.CharField( # ëª¨ë¸í¼ ë°”ë¡œ ì•„ë˜(Metaì™€ ê°™ì€ ë¼ì¸) í•„ë“œëª…ì— ê¸°ì¬
            label='ë‚´ìš©', # í¼ ë‚´ë¶€ ì¹¸ ì´ë¦„ì„ ë³€ê²½ í•  ìˆ˜ ìˆìŒ
            widget=forms.Textarea(
            attrs={
                'placeholder': 'Enter the content', #`ì¹¸ ë‚´ë¶€ì— ì„¤ëª…ì²˜ëŸ¼ ê¸°ì¬ ë˜ì–´ìˆëŠ” ê²ƒ`
                'rows': 5, 
                'cols': 50, #`ì¹¸ ì‚¬ì´ì¦ˆ ì§€ì •, row 5ì¤„, col í•œì¤„ì— 50ìë¥¼ ë³´ì—¬ì¤Œ`
                }
            ),
            error_messages={
                'required': 'Please enter your content'
            }
        )
    class Meta:
        model = Product
        exclude = (
            "user",
            "jjim",
            "review",
            "like_users",
        ) # ëª¨ë¸ì—ì„œ ì •ì˜í–ˆë˜ ê²ƒ ì¤‘ì— ì œì™¸í•  í•„ë“œ
```

### navì— í”„ë¡œí•„ ì‚¬ì§„ ì¶œë ¥í•˜ëŠ” ë°©ë²•

1. profile.html ê²½ìš°, views.pyì˜ `def profile`ì—ì„œ `profile_ = user_.profile_set.all()[0]`ì„ context ë‚´ `"profile": profile_`ë¡œ ì •ì˜í•´ì¤Œ
2. ë‹¤ë§Œ navì˜ base.htmlë¡œ ì¸ìë¥¼ ë³´ë‚´ëŠ” viewí•¨ìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì— `{% for profile in request.user.profile_set.all %}`ë¡œ base.htmlì— ë„£ì–´ì¤Œ
3. `request.user.profile_set.all` ì€ ìš”ì²­ ìœ ì €ê°€ ë“±ë¡í•œ ëª¨ë“  í”„ë¡œí•„ ì¶œë ¥í•˜ê¸° 
4. ë‹¨, ìš”ì²­ ìœ ì €ê°€ ë“±ë¡í•œ í”„ë¡œí•„ì€ íšŒì›ê°€ì… ë‹¹ì‹œ ìƒì„± ëœ í”„ë¡œí•„ í•œê°œì´ê¸° ë•Œë¬¸ì— forë¬¸ìœ¼ë¡œ ëŒë ¤ë„, í•œê°œ ì¶œë ¥
5. íšŒì›ê°€ì… ì‹œ í”„ë¡œí•„ ëª¨ë¸ì˜ useridëŠ” ìƒì„± ë˜ë‚˜, í”„ë¡œí•„ ì‚¬ì§„ ì—†ì–´ ì´ë¯¸ì§€ ìˆ˜ì • í•˜ì§€ ì•ŠëŠ” ê²½ìš°, ì•„ì´ì½˜ìœ¼ë¡œ ë‚˜ì˜¬ ìˆ˜ ìˆë„ë¡ ifë¬¸ ì¶œë ¥

    ```html
            {% if request.user.is_authenticated %}
              {% for profile in request.user.profile_set.all %}
                {% if profile.image %}
                  <a class="" href="{% url 'accounts:profile' %}"><img src="{{ profile.image.url }}" alt="{{ profile.image }}" width="35" height="35" style="border-radius: 50%;"></a>
                {% else %}
                  <i class="bi bi-person-circle text-dark fs-2"></i>
                {% endif %}
              {% endfor%}
            {% endif %}
    ```

### ë“±ë¡í•œ ìƒí’ˆ ê°œìˆ˜ ì¶œë ¥í•˜ëŠ” ë°©ë²• 
`{{ products.count }}` 
1. accountsì˜ views.pyì—ì„œ profile í•¨ìˆ˜ì— `products = user_.product_set.all()`
ì„ ì •ì˜í•´ì¤Œ => `ìš”ì²­ìœ ì €ê°€ ì‘ì„±í•œ ëª¨ë“  ìƒí’ˆë“¤ ì¶œë ¥í•˜ê¸°` 
2. contextì— `"products": products,` ë„£ê³  `return render(request, 'accounts/profile.html', context)` ë„˜ê²¨ì¤Œ
3. ë”°ë¼ì„œ, `products`ì‚¬ìš©í•˜ì—¬ `products.count` ê¸°ì¬ ì‹œ, `ìš”ì²­ìœ ì €ê°€ ì‘ì„±í•œ ëª¨ë“  ìƒí’ˆë“¤ ê°œìˆ˜` ì¶œë ¥

### íŠ¹ì • ìƒí’ˆì— ë“±ë¡ ëœ ë¦¬ë·° ê°œìˆ˜ ì¶œë ¥í•˜ëŠ” ë°©ë²• 
`{{ product.review.count }}`


## 11.18
âš ï¸ *border-color ì†ì„± ì§€ì • ì „ì— ë°˜ë“œì‹œ border-style ì†ì„±ì„ ë¨¼ì € ì„ ì–¸ í•„ìš”. (âˆµ í…Œë‘ë¦¬ëª¨ì–‘ ì¡´ì¬í•´ì•¼ ìƒ‰ìƒì§€ì • ê°€ëŠ¥)*
    ```css
    div {
        border-style: solid;
        border-color: coral;
        }
    ```
* `border-width` => border ë‘ê»˜
* test
